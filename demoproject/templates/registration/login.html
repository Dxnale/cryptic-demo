{% extends "layout.html" %}
{% load form_extras %}
{% block title %}Login{% endblock %}
{% block content %}
<main class="max-w-4xl my-3 py-8 mx-auto px-60 font-mono">
<div class="card flex flex-col gap-4 rounded-box border-2 border-green-400 p-6 mb-8">
  <h1 class="text-3xl font-bold">Log in</h1>

  {% if form.non_field_errors %}
    <div class="text-red-400 mb-4">
      {{ form.non_field_errors }}
    </div>
  {% endif %}

  <form method="post" action="{% url 'login' %}" class="card-body space-y-4">
    {% csrf_token %}

    {% if next %}
        <input type="hidden" name="next" value="{{ next }}" />
    {% endif %}

    {% for field in form %}
      <div class="form-group{% if field.errors %} has-error{% endif %}">
        {{ field|label_class:"label-text" }}

        {% if field.errors %}
          {{ field|add_class:"input input-bordered input-error" }}
        {% else %}
          {{ field|add_class:"input input-bordered" }}
        {% endif %}

        {% if field.help_text %}
          <small class="help-text">{{ field.help_text }}</small>
        {% endif %}

        {% for error in field.errors %}
          <div class="error">{{ error }}</div>
        {% endfor %}
      </div>
    {% endfor %}

    <button type="submit" class="rounded-box bg-green-600 hover:bg-green-500 text-black font-mono font-bold px-6 py-2 border-2 border-green-400 transition-all cursor-pointer duration-200 hover:shadow-lg hover:shadow-green-400/50">
        Iniciar sesión
    </button>

  </form>
  <div class="mt-4 flex flex-col space-y-4">
    <a href="{% url 'register' %}" class="btn btn-ghost border-2 border-green-400 text-green-400 hover:bg-green-500 hover:text-white hover:border-green-500">
      Crear una cuenta
    </a>
    <div class="text-center">
      <a href="{% url 'password_reset' %}" class="text-sm text-gray-500 hover:text-gray-700">¿Olvidaste tu contraseña?</a>
    </div>
  </div>
</div>
</main>
{% endblock %}
